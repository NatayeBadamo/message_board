<!DOCTYPE html>
<html lang="en">
<%- include('./header.ejs')  %>

<body>
      <%- include('./nav.ejs') %>

      <!--
  Heads up! ðŸ‘‹

  Plugins:
    - @tailwindcss/forms
-->

<div class="mx-auto max-w-screen-xl px-4 py-16 sm:px-6 lg:px-8 shadow-2xl">
      <div class="mx-auto max-w-lg text-center">
        <h1 class="text-2xl font-bold sm:text-3xl">Message Delivery</h1>
    
        <p class="mt-4 text-gray-500">
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Et libero nulla eaque error neque
          ipsa culpa autem, at itaque nostrum!
        </p>
      </div>
    
      <form class="mx-auto mb-0 mt-8 max-w-md space-y-4">
        <div>
          <label for="email" class="sr-only" >Your Name</label>
    
          <div class="relative">
            <input
              id="name"
              type="text"
              class="w-full rounded-lg border-gray-200 p-4 pe-12 text-sm shadow-sm"
              placeholder="Your Name"
            />
    
            <span class="absolute inset-y-0 end-0 grid place-content-center px-4">
                  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6 text-gray-400">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" />
                      </svg>
                      
            </span>
          </div>
        </div>
    
        <div>
          <label for="password" class="sr-only" >Subject title</label>
    
          <div class="relative">
            <input
              id="subject"
              type="text"
              class="w-full rounded-lg border-gray-200 p-4 pe-12 text-sm shadow-sm"
              placeholder="Subject title"
            />
    
            <span class="absolute inset-y-0 end-0 grid place-content-center px-4">

                  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6 text-gray-400">
                        <path stroke-linecap="round" stroke-linejoin="round" d="m4.5 5.25 7.5 7.5 7.5-7.5m-15 6 7.5 7.5 7.5-7.5" />
                      </svg>
                      
            </span>
          </div>
        </div>

        <div>
            <label for="password" class="sr-only" >Message</label>
      
            <div class="relative">
              <input
                id="message"
                type="text"
                class="w-full rounded-lg border-gray-200 p-4 pe-12 text-sm shadow-sm"
                placeholder="Message "
              />
      
              <span class="absolute inset-y-0 end-0 grid place-content-center px-4">
  
                  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6 text-gray-400">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M7.5 8.25h9m-9 3H12m-9.75 1.51c0 1.6 1.123 2.994 2.707 3.227 1.129.166 2.27.293 3.423.379.35.026.67.21.865.501L12 21l2.755-4.133a1.14 1.14 0 0 1 .865-.501 48.172 48.172 0 0 0 3.423-.379c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z" />
                  </svg>
                        
              </span>
            </div>
          </div>
    
        <div class="flex items-center justify-between">
    
          <button
            onclick="sendButton(event);"
            type="submit"
            class="inline-block rounded-lg bg-teal-600 px-5 py-3 text-sm font-medium text-white"
          >
            Send
          </button>
        </div>
      </form>
    </div>
    <script>
      async function sendButton(event) {
        event.preventDefault();
          try {
            const name = document.getElementById("name").value;
            const subject = document.getElementById("subject").value;
            const message = document.getElementById("message").value;

            const response = await fetch('/send', {
              method: 'POST',
              body: JSON.stringify({ name_one: name, subject_one: subject, message_one: message }),
              headers: { 'Content-Type': 'application/json' }
            });

            if (response.ok) {
              console.log('Message sent successfully');
              window.location.href = '/';
            } else {
              console.error('Failed to upload');
            }
          } catch (err) {
            console.error('An error occurred:', err);
          }
        }


    </script>
</body>
</html>